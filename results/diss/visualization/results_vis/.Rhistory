plot_price +
geom_dotplot(data = filter(all_prices_filter, Region != "EU28"))
plot_price <-ggplot(all_prices_filter, aes(x = Scenario, y = Value))
plot_price +
geom_boxplot(data = filter(all_prices_filter, Region != "EU28"))
plot_price <-ggplot(all_prices_filter, aes(x = Scenario, y = Value))
plot_price +
geom_boxplot(data = filter(all_prices_filter, Region != "EU28"), aes(fill = Scenario))
plot_price <-ggplot(all_prices_filter, aes(x = Scenario, y = Value))
plot_price +
geom_boxplot(data = filter(all_prices_filter, Region != "EU28"), aes(fill = Scenario)) +
geom_point(data = filter(all_prices_filter, Region == "EU28", Region == "DEU"))
plot_price <-ggplot(all_prices_filter, aes(x = Scenario, y = Value))
plot_price +
geom_boxplot(data = filter(all_prices_filter, Region != "EU28"), aes(fill = Scenario)) +
geom_point(data = filter(all_prices_filter, Region == "EU28" | Region == "DEU"))
plot_price <-ggplot(all_prices_filter, aes(x = Scenario, y = Value))
plot_price +
geom_boxplot(data = filter(all_prices_filter, Region != "EU28"), aes(fill = Scenario)) +
geom_point(data = filter(all_prices_filter, Region == "EU28" | Region == "DEU"), aes(fill = Region))
plot_price <-ggplot(all_prices_filter, aes(x = Scenario, y = Value))
plot_price +
geom_boxplot(data = filter(all_prices_filter, Region != "EU28"), aes(fill = Scenario)) +
geom_point(data = filter(all_prices_filter, Region == "EU28" | Region == "DEU"), aes(color = Region))
plot_price <-ggplot(all_prices_filter, aes(x = Scenario, y = Value))
plot_price +
geom_boxplot(data = filter(all_prices_filter, Region != "EU28"), aes(fill = Scenario)) +
geom_point(data = filter(all_prices_filter, Region == "EU28" | Region == "DEU"), aes(color = Region)) +
theme_bw()
plot_price <-ggplot(all_prices_filter, aes(x = Scenario, y = Value))
plot_price +
geom_boxplot(data = filter(all_prices_filter, Region != "EU28"), aes(fill = Scenario)) +
geom_point(data = filter(all_prices_filter, Region == "EU28" | Region == "DEU"), aes(color = Region), size = 3) +
theme_bw()
plot_price <-ggplot(all_prices_filter, aes(x = Scenario, y = Value))
plot_price +
geom_boxplot(data = filter(all_prices_filter, Region != "EU28"), aes(fill = Scenario)) +
geom_point(data = filter(all_prices_filter, Region == "EU28" | Region == "DEU"), aes(shape = Region), size = 3) +
theme_bw()
plot_price <-ggplot(all_prices_filter, aes(x = Scenario, y = Value))
plot_price +
geom_boxplot(data = filter(all_prices_filter, Region != "EU28"), aes(fill = Scenario)) +
geom_point(data = filter(all_prices_filter, Region == "EU28" | Region == "DEU"), aes(shape = Region, fill = Scenario), size = 3) +
theme_bw()
plot_price <-ggplot(all_prices_filter, aes(x = Scenario, y = Value))
plot_price +
geom_boxplot(data = filter(all_prices_filter, Region != "EU28"), aes(fill = Scenario)) +
geom_point(data = filter(all_prices_filter, Region == "EU28" | Region == "DEU"), aes(shape = Region), size = 3) +
theme_bw() +
theme(text         = element_text(size=10, family="Palatino Linotype"),
axis.text.x = element_text(size = 10),
axis.text.y = element_text(size = 10),
axis.title = element_text(size = 12),
strip.text = element_text(size = 12),
legend.text = element_text(size = 12),
legend.title = element_text(size = 12),
legend.position = "bottom")
plot_price <-ggplot(all_prices_filter, aes(x = Scenario, y = Value))
plot_price +
geom_boxplot(data = filter(all_prices_filter, Region != "EU28"), aes(fill = Scenario)) +
geom_point(data = filter(all_prices_filter, Region == "EU28" | Region == "DEU"), aes(shape = Region), size = 3) +
scale_y_continuous(name = "Price of t.eqCO2 [€ 2011]",
breaks = seq(0, 600,100)) +
theme_bw() +
theme(text         = element_text(size=10, family="Palatino Linotype"),
axis.text.x = element_text(size = 10),
axis.text.y = element_text(size = 10),
axis.title = element_text(size = 12),
strip.text = element_text(size = 12),
legend.text = element_text(size = 12),
legend.title = element_text(size = 12),
legend.position = "bottom")
ref_prices <- filter(all_prices_filter, Scenario == "REF" & Region == "EU28")
all_prices_filter <- filter(all_prices_filter, Scenario != "REF")
all_prices_filter <- rbind(all_prices_filter, ref_prices)
plot_price <-ggplot(all_prices_filter, aes(x = Scenario, y = Value))
plot_price +
geom_boxplot(data = filter(all_prices_filter, Region != "EU28"), aes(fill = Scenario)) +
geom_point(data = filter(all_prices_filter, Region == "EU28" | Region == "DEU"), aes(shape = Region), size = 3) +
scale_y_continuous(name = "Price of t.eqCO2 [€ 2011]",
breaks = seq(0, 600,100)) +
theme_bw() +
theme(text         = element_text(size=10, family="Palatino Linotype"),
axis.text.x = element_text(size = 10),
axis.text.y = element_text(size = 10),
axis.title = element_text(size = 12),
strip.text = element_text(size = 12),
legend.text = element_text(size = 12),
legend.title = element_text(size = 12),
legend.position = "bottom")
ref_prices <- filter(all_prices_filter, Scenario == "REF" & Region == "EU28")
all_prices_filter <- filter(all_prices_filter, Scenario != "REF")
all_prices_filter <- rbind(all_prices_filter, ref_prices)
all_prices_filter$Scenario <- factor(all_prices_filter$Scenario, levels = c("INV",
"CAP",
"LAB",
"VAT",
"BAU",
"REF"))
plot_price <-ggplot(all_prices_filter, aes(x = Scenario, y = Value))
plot_price +
geom_boxplot(data = filter(all_prices_filter, Region != "EU28"), aes(fill = Scenario)) +
geom_point(data = filter(all_prices_filter, Region == "EU28" | Region == "DEU"), aes(shape = Region), size = 3) +
scale_y_continuous(name = "Price of t.eqCO2 [€ 2011]",
breaks = seq(0, 600,100)) +
theme_bw() +
theme(text         = element_text(size=10, family="Palatino Linotype"),
axis.text.x = element_text(size = 10),
axis.text.y = element_text(size = 10),
axis.title = element_text(size = 12),
strip.text = element_text(size = 12),
legend.text = element_text(size = 12),
legend.title = element_text(size = 12),
legend.position = "bottom")
ref_prices <- filter(all_prices_filter, Scenario == "REF" & Region == "EU28")
all_prices_filter <- filter(all_prices_filter, Scenario != "REF")
all_prices_filter <- rbind(all_prices_filter, ref_prices)
all_prices_filter %>% mutate(Scenario = factor(Scenario, levels = c("INV",
"CAP",
"LAB",
"VAT",
"BAU",
"REF")))
ref_prices <- filter(all_prices_filter, Scenario == "REF" & Region == "EU28")
all_prices_filter <- filter(all_prices_filter, Scenario != "REF")
all_prices_filter <- rbind(all_prices_filter, ref_prices)
all_prices_filter <- all_prices_filter %>% mutate(Scenario = factor(Scenario, levels = c("INV",
"CAP",
"LAB",
"VAT",
"BAU",
"REF")))
plot_price <-ggplot(all_prices_filter, aes(x = Scenario, y = Value))
plot_price +
geom_boxplot(data = filter(all_prices_filter, Region != "EU28"), aes(fill = Scenario)) +
geom_point(data = filter(all_prices_filter, Region == "EU28" | Region == "DEU"), aes(shape = Region), size = 3) +
scale_y_continuous(name = "Price of t.eqCO2 [€ 2011]",
breaks = seq(0, 600,100)) +
theme_bw() +
theme(text         = element_text(size=10, family="Palatino Linotype"),
axis.text.x = element_text(size = 10),
axis.text.y = element_text(size = 10),
axis.title = element_text(size = 12),
strip.text = element_text(size = 12),
legend.text = element_text(size = 12),
legend.title = element_text(size = 12),
legend.position = "bottom")
library(tidyverse)
library(readxl)
library(extrafont)
library(showtext)
#font_import()
loadfonts(device = "win")
ets_prices <-  read_excel("report_pivot_merged.xlsx", sheet = "pco2_ets_yr")
netsr_prices <- read_excel("report_pivot_merged.xlsx", sheet = "pco2_netsr_yr")
ets_prices$Region = "EU28"
ets_prices <- ets_prices[, c(1,4,2,3)]
all_prices <- rbind(ets_prices, netsr_prices)
all_prices_filter <- all_prices %>%
filter(Year == 2030) %>%
subset(Region %in% c("EU28",
"DEU",
"FRA",
"ITA",
"POL",
"UKI",
"ESP",
"BNL",
"EUN",
"EUS"))
all_prices_filter[[1]] = toupper(all_prices_filter[[1]])
ref_prices <- filter(all_prices_filter, Scenario == "REF" & Region == "EU28")
all_prices_filter <- filter(all_prices_filter, Scenario != "REF")
all_prices_filter <- rbind(all_prices_filter, ref_prices)
all_prices_filter <- all_prices_filter %>% mutate(Scenario = factor(Scenario, levels = c("INV",
"CAP",
"LAB",
"VAT",
"BAU",
"REF")))
plot_price <-ggplot(all_prices_filter, aes(x = Scenario, y = Value))
plot_price +
geom_boxplot(data = filter(all_prices_filter, Region != "EU28"), aes(fill = Scenario)) +
geom_point(data = filter(all_prices_filter, Region == "EU28" | Region == "DEU"), aes(shape = Region), size = 3) +
scale_y_continuous(name = "Price of t.eqCO2 [€ 2011]",
breaks = seq(0, 600,100)) +
theme_bw() +
theme(text         = element_text(size=10, family="Palatino Linotype"),
axis.text.x = element_text(size = 10),
axis.text.y = element_text(size = 10),
axis.title = element_text(size = 12),
strip.text = element_text(size = 12),
legend.text = element_text(size = 12),
legend.title = element_text(size = 12),
legend.position = "bottom")
ref_prices <- filter(all_prices_filter, Scenario == "REF" & Region == "EU28")
all_prices_filter <- filter(all_prices_filter, Scenario != "REF")
all_prices_filter <- rbind(all_prices_filter, ref_prices)
all_prices_filter$Scenario <- factor(all_prices_filter$Scenario, levels = c("INV",
"CAP",
"LAB",
"VAT",
"BAU",
"REF")))
ref_prices <- filter(all_prices_filter, Scenario == "REF" & Region == "EU28")
all_prices_filter <- filter(all_prices_filter, Scenario != "REF")
all_prices_filter <- rbind(all_prices_filter, ref_prices)
all_prices_filter$Scenario <- factor(all_prices_filter$Scenario, levels = c("INV",
"CAP",
"LAB",
"VAT",
"BAU",
"REF"))
View(all_prices_filter)
# drop non-EU regions, years after 2030 and categories that are not 'total'
gdp_diff_filter_2 <- filter(gdp_diff, grepl('DEU|EU28', Region))
gdp_diff_filter_2 <- filter(gdp_diff_filter_2, grepl('2030', Year))
gdp_diff_filter_2 <- filter(gdp_diff_filter_2, Type != 'total' & Type != 'total_no_cons_tax')
# drop ref
gdp_diff_filter_2 <- subset(gdp_diff_filter_2, select = -c(ref))
# gather scenarios
gdp_diff_filter_2 <- gather(gdp_diff_filter_2, 'bau', 'cAP', 'inv', 'vat', 'lab', key = 'Scenario', value = 'Value')
gdp_diff_filter_2[[4]] = toupper(gdp_diff_filter_2[[4]])
gdp_diff_filter_2$Scenario <- factor(gdp_diff_filter_2$Scenario, levels = c("INV",
"CAP",
"LAB",
"VAT",
"BAU",
"REF"))
plot_price <-ggplot(all_prices_filter, aes(x = Scenario, y = Value))
plot_price +
geom_boxplot(data = filter(all_prices_filter, Region != "EU28"), aes(fill = Scenario)) +
geom_point(data = filter(all_prices_filter, Region == "EU28" | Region == "DEU"), aes(shape = Region), size = 3) +
scale_y_continuous(name = "Price of t.eqCO2 [€ 2011]",
breaks = seq(0, 600,100)) +
theme_bw() +
theme(text         = element_text(size=10, family="Palatino Linotype"),
axis.text.x = element_text(size = 10),
axis.text.y = element_text(size = 10),
axis.title = element_text(size = 12),
strip.text = element_text(size = 12),
legend.text = element_text(size = 12),
legend.title = element_text(size = 12),
legend.position = "bottom")
ref_prices <- filter(all_prices_filter, Scenario == "REF" & Region == "EU28")
all_prices_filter <- filter(all_prices_filter, Scenario != "REF")
all_prices_filter <- rbind(all_prices_filter, ref_prices)
all_prices_filter$Scenario <- factor(all_prices_filter$Scenario,
ordered = TRUE,
levels = c("INV",
"CAP",
"LAB",
"VAT",
"BAU",
"REF"))
ref_prices <- filter(all_prices_filter, Scenario == "REF" & Region == "EU28")
all_prices_filter <- filter(all_prices_filter, Scenario != "REF")
all_prices_filter <- rbind(all_prices_filter, ref_prices)
all_prices_filter$Scenario <- factor(all_prices_filter$Scenario,
ordered = TRUE,
levels = c("INV",
"CAP",
"LAB",
"VAT",
"BAU",
"REF"))
plot_price <-ggplot(all_prices_filter, aes(x = Scenario, y = Value))
plot_price +
geom_boxplot(data = filter(all_prices_filter, Region != "EU28"), aes(fill = Scenario)) +
geom_point(data = filter(all_prices_filter, Region == "EU28" | Region == "DEU"), aes(shape = Region), size = 3) +
scale_y_continuous(name = "Price of t.eqCO2 [€ 2011]",
breaks = seq(0, 600,100)) +
theme_bw() +
theme(text         = element_text(size=10, family="Palatino Linotype"),
axis.text.x = element_text(size = 10),
axis.text.y = element_text(size = 10),
axis.title = element_text(size = 12),
strip.text = element_text(size = 12),
legend.text = element_text(size = 12),
legend.title = element_text(size = 12),
legend.position = "bottom")
all_prices_filter %>%
arrange(Scenario)
all_prices_filter %>%
arrange(Scenario) %>%
mutate(Scenario =(Scenario, levels = c("INV",
all_prices_filter %>%
arrange(Scenario) %>%
mutate(Scenario =(Scenario, levels = c("INV",
all_prices_filter %>%
arrange(Scenario) %>%
mutate(Scenario =factor(Scenario, levels = c("INV",
"CAP",
"LAB",
"VAT",
"BAU",
"REF")))
ref_prices <- filter(all_prices_filter, Scenario == "REF" & Region == "EU28")
all_prices_filter <- filter(all_prices_filter, Scenario != "REF")
all_prices_filter <- rbind(all_prices_filter, ref_prices)
all_prices_filter$Scenario <- all_prices_filter %>%
arrange(Scenario) %>%
mutate(Scenario =factor(Scenario, levels = c("INV",
"CAP",
"LAB",
"VAT",
"BAU",
"REF")))
plot_price <-ggplot(all_prices_filter, aes(x = Scenario, y = Value))
plot_price +
geom_boxplot(data = filter(all_prices_filter, Region != "EU28"), aes(fill = Scenario)) +
geom_point(data = filter(all_prices_filter, Region == "EU28" | Region == "DEU"), aes(shape = Region), size = 3) +
scale_y_continuous(name = "Price of t.eqCO2 [€ 2011]",
breaks = seq(0, 600,100)) +
theme_bw() +
theme(text         = element_text(size=10, family="Palatino Linotype"),
axis.text.x = element_text(size = 10),
axis.text.y = element_text(size = 10),
axis.title = element_text(size = 12),
strip.text = element_text(size = 12),
legend.text = element_text(size = 12),
legend.title = element_text(size = 12),
legend.position = "bottom")
plot_price <-ggplot(all_prices_filter, aes(x = Scenario, y = Value))
plot_price +
geom_boxplot(data = filter(all_prices_filter, Region != "EU28"), aes(fill = Scenario))
plot_price <-ggplot(all_prices_filter, aes(x = Scenario, y = Value))
plot_price +
geom_boxplot(data = filter(all_prices_filter, Region != "EU28"))
plot_price <-ggplot(all_prices_filter, aes(x = Scenario, y = Value))
plot_price +
geom_point()
ref_prices <- filter(all_prices_filter, Scenario == "REF" & Region == "EU28")
all_prices_filter <- filter(all_prices_filter, Scenario != "REF")
all_prices_filter <- rbind(all_prices_filter, ref_prices)
all_prices_filter <- all_prices %>%
filter(Year == 2030) %>%
subset(Region %in% c("EU28",
"DEU",
"FRA",
"ITA",
"POL",
"UKI",
"ESP",
"BNL",
"EUN",
"EUS"))
all_prices_filter[[1]] = toupper(all_prices_filter[[1]])
ref_prices <- filter(all_prices_filter, Scenario == "REF" & Region == "EU28")
all_prices_filter <- filter(all_prices_filter, Scenario != "REF")
all_prices_filter <- rbind(all_prices_filter, ref_prices)
#all_prices_filter$Scenario <- all_prices_filter %>%
#  arrange(Scenario) %>%
#  mutate(Scenario =factor(Scenario, levels = c("INV",
#                                                "CAP",
#                                                "LAB",
#                                                "VAT",
#                                                "BAU",
#                                                "REF")))
plot_price <-ggplot(all_prices_filter, aes(x = Scenario, y = Value))
plot_price +
geom_point()
#geom_boxplot(data = filter(all_prices_filter, Region != "EU28"), aes(fill = Scenario))
#geom_point(data = filter(all_prices_filter, Region == "EU28" | Region == "DEU"), aes(shape = Region), size = 3) +
#scale_y_continuous(name = "Price of t.eqCO2 [€ 2011]",
#                   breaks = seq(0, 600,100)) +
#theme_bw() +
#theme(text         = element_text(size=10, family="Palatino Linotype"),
#      axis.text.x = element_text(size = 10),
#      axis.text.y = element_text(size = 10),
#      axis.title = element_text(size = 12),
#      strip.text = element_text(size = 12),
#      legend.text = element_text(size = 12),
#      legend.title = element_text(size = 12),
#      legend.position = "bottom")
all_prices_filter <- all_prices %>%
filter(Year == 2030) %>%
subset(Region %in% c("EU28",
"DEU",
"FRA",
"ITA",
"POL",
"UKI",
"ESP",
"BNL",
"EUN",
"EUS"))
all_prices_filter[[1]] = toupper(all_prices_filter[[1]])
ref_prices <- filter(all_prices_filter, Scenario == "REF" & Region == "EU28")
all_prices_filter <- filter(all_prices_filter, Scenario != "REF")
all_prices_filter <- rbind(all_prices_filter, ref_prices)
all_prices_filter$Scenario <- all_prices_filter %>%
arrange(Scenario) %>%
mutate(Scenario =factor(Scenario, levels = c("INV",
"CAP",
"LAB",
"VAT",
"BAU",
"REF")))
plot_price <-ggplot(all_prices_filter, aes(x = Scenario, y = Value))
plot_price +
geom_point()
all_prices_filter <- all_prices %>%
filter(Year == 2030) %>%
subset(Region %in% c("EU28",
"DEU",
"FRA",
"ITA",
"POL",
"UKI",
"ESP",
"BNL",
"EUN",
"EUS"))
all_prices_filter[[1]] = toupper(all_prices_filter[[1]])
#ref_prices <- filter(all_prices_filter, Scenario == "REF" & Region == "EU28")
#all_prices_filter <- filter(all_prices_filter, Scenario != "REF")
#all_prices_filter <- rbind(all_prices_filter, ref_prices)
all_prices_filter$Scenario <- all_prices_filter %>%
arrange(Scenario) %>%
mutate(Scenario =factor(Scenario, levels = c("INV",
"CAP",
"LAB",
"VAT",
"BAU",
"REF")))
plot_price <-ggplot(all_prices_filter, aes(x = Scenario, y = Value))
plot_price +
geom_point()
all_prices_filter <- all_prices %>%
filter(Year == 2030) %>%
subset(Region %in% c("EU28",
"DEU",
"FRA",
"ITA",
"POL",
"UKI",
"ESP",
"BNL",
"EUN",
"EUS"))
all_prices_filter[[1]] = toupper(all_prices_filter[[1]])
plot_price <-ggplot(all_prices_filter, aes(x = Scenario, y = Value))
plot_price +
geom_point()
#geom_boxplot(data = filter(all_prices_filter, Region != "EU28"), aes(fill = Scenario))
#geom_point(data = filter(all_prices_filter, Region == "EU28" | Region == "DEU"), aes(shape = Region), size = 3) +
#scale_y_continuous(name = "Price of t.eqCO2 [€ 2011]",
#                   breaks = seq(0, 600,100)) +
#theme_bw() +
#theme(text         = element_text(size=10, family="Palatino Linotype"),
#      axis.text.x = element_text(size = 10),
#      axis.text.y = element_text(size = 10),
#      axis.title = element_text(size = 12),
#      strip.text = element_text(size = 12),
#      legend.text = element_text(size = 12),
#      legend.title = element_text(size = 12),
#      legend.position = "bottom")
#ref_prices <- filter(all_prices_filter, Scenario == "REF" & Region == "EU28")
#all_prices_filter <- filter(all_prices_filter, Scenario != "REF")
#all_prices_filter <- rbind(all_prices_filter, ref_prices)
all_prices_filter$Scenario <- all_prices_filter %>%
arrange(Scenario) %>%
mutate(Scenario =factor(Scenario, levels = c("INV",
"CAP",
"LAB",
"VAT",
"BAU",
"REF")))
plot_price <-ggplot(all_prices_filter, aes(x = Scenario, y = Value))
plot_price +
geom_point()
plot_price <-ggplot(all_prices_filter, aes(y = Value))
plot_price +
geom_point()
plot_price <-ggplot(all_prices_filter, aes(x=Year, y = Value))
plot_price +
geom_point()
#geom_boxplot(data = filter(all_prices_filter, Region != "EU28"), aes(fill = Scenario))
#geom_point(data = filter(all_prices_filter, Region == "EU28" | Region == "DEU"), aes(shape = Region), size = 3) +
#scale_y_continuous(name = "Price of t.eqCO2 [€ 2011]",
#                   breaks = seq(0, 600,100)) +
#theme_bw() +
#theme(text         = element_text(size=10, family="Palatino Linotype"),
#      axis.text.x = element_text(size = 10),
#      axis.text.y = element_text(size = 10),
#      axis.title = element_text(size = 12),
#      strip.text = element_text(size = 12),
#      legend.text = element_text(size = 12),
#      legend.title = element_text(size = 12),
#      legend.position = "bottom")
plot_price <-ggplot(all_prices_filter, aes(x=Region, y = Value))
plot_price +
geom_point()
#geom_boxplot(data = filter(all_prices_filter, Region != "EU28"), aes(fill = Scenario))
#geom_point(data = filter(all_prices_filter, Region == "EU28" | Region == "DEU"), aes(shape = Region), size = 3) +
#scale_y_continuous(name = "Price of t.eqCO2 [€ 2011]",
#                   breaks = seq(0, 600,100)) +
#theme_bw() +
#theme(text         = element_text(size=10, family="Palatino Linotype"),
#      axis.text.x = element_text(size = 10),
#      axis.text.y = element_text(size = 10),
#      axis.title = element_text(size = 12),
#      strip.text = element_text(size = 12),
#      legend.text = element_text(size = 12),
#      legend.title = element_text(size = 12),
#      legend.position = "bottom")
plot_price <-ggplot(all_prices_filter, aes(x=Scenario, y = Value))
plot_price +
geom_point()
levels(factor(all_prices_filter$Scenario))
levels(factor(all_prices_filter$Scenario))
