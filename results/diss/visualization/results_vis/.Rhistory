plot_gva2 +
geom_bar(stat='identity', position = "fill", aes(fill = Sector), color = "black") +
scale_x_continuous(name = "Share of total GVA",
labels = scales::label_percent(accuracy = 1)) +
scale_fill_brewer(palette="Set1") +
theme_bw()+
theme(text         = element_text(size=10, family="Palatino Linotype"),
axis.text.x = element_blank(),
axis.title.x = element_blank(),
axis.text.y = element_text(size = 12),
axis.title.y = element_text(size = 12),
axis.ticks.x = element_blank(),
strip.text = element_text(size = 12),
legend.text = element_text(size = 12),
legend.title = element_text(size = 12),
legend.position = "bottom")
plot_gva2 <- ggplot(data = filter(gva_abs2, Year == 2020, Scenario == "REF", Region != "EU-28"), aes(y = Region, x = Value))
plot_gva2 +
geom_bar(stat='identity', position = "fill", aes(fill = Sector), color = "black") +
scale_x_continuous(name = "Share of total GVA",
labels = scales::label_percent(accuracy = 1)) +
scale_fill_brewer(palette="Set1") +
theme_bw()+
theme(text         = element_text(size=10, family="Palatino Linotype"),
axis.text.x = element_text(size = 12),
axis.title.x = element_text(size = 12),
axis.text.y = element_text(size = 12),
axis.title.y = element_text(size = 12),
axis.ticks.x = element_blank(),
strip.text = element_text(size = 12),
legend.text = element_text(size = 12),
legend.title = element_text(size = 12),
legend.position = "bottom")
plot_gva2 <- ggplot(data = filter(gva_abs2, Year == 2020, Scenario == "REF", Region != "EU-28"), aes(y = Region, x = Value))
plot_gva2 +
geom_bar(stat='identity', position = "fill", aes(fill = Sector), color = "black") +
scale_x_continuous(name = "Share of total GVA",
labels = scales::label_percent(accuracy = 1)) +
scale_fill_brewer(palette="Set1") +
theme_bw()+
theme(text         = element_text(size=10, family="Palatino Linotype"),
axis.text.x = element_text(size = 12),
axis.title.x = element_text(size = 12),
axis.text.y = element_text(size = 12),
axis.title.y = element_text(size = 12),
strip.text = element_text(size = 12),
legend.text = element_text(size = 12),
legend.title = element_text(size = 12),
legend.position = "bottom")
plot_gva2 <- ggplot(data = filter(gva_abs2, Year == 2020, Scenario == "REF", Region != "EU-28"), aes(y = Region, x = Value))
plot_gva2 +
geom_bar(stat='identity', position = "fill", aes(fill = Sector), color = "black") +
scale_x_continuous(name = "Share of total GVA",
labels = scales::label_percent(accuracy = 1)) +
scale_fill_brewer(palette="Set1") +
theme_bw()+
theme(text         = element_text(size=10, family="Palatino Linotype"),
axis.text.x = element_text(size = 12),
axis.title.x = element_text(size = 12),
axis.text.y = element_text(size = 12),
axis.title.y = element_text(size = 12),
strip.text = element_text(size = 12),
legend.text = element_text(size = 12),
legend.title = element_text(size = 12),
legend.position = "bottom")
ggsave(width = 6, height = 5, filename = "gva_2020.png")
plot_gva2 <- ggplot(data = filter(gva_abs2, Year == 2020, Scenario == "REF", Region != "EU-28"), aes(y = Region, x = Value))
plot_gva2 +
geom_bar(stat='identity', position = "fill", aes(fill = Sector), color = "black") +
scale_x_continuous(name = "Share of total GVA",
labels = scales::label_percent(accuracy = 1)) +
scale_fill_brewer(palette="Set1") +
theme_bw()+
theme(text         = element_text(size=10, family="Palatino Linotype"),
axis.text.x = element_text(size = 12),
axis.title.x = element_text(size = 12),
axis.text.y = element_text(size = 12),
axis.title.y = element_text(size = 12),
strip.text = element_text(size = 12),
legend.text = element_text(size = 12),
legend.title = element_text(size = 12),
legend.position = "bottom",
legend.justification = "left")
ggsave(width = 6, height = 5, filename = "gva_2020.png")
plot_gva2 <- ggplot(data = filter(gva_abs2, Year == 2020, Scenario == "REF", Region != "EU-28"), aes(y = Region, x = Value))
plot_gva2 +
geom_bar(stat='identity', position = "fill", aes(fill = Sector), color = "black") +
scale_x_continuous(name = "Share of total GVA",
labels = scales::label_percent(accuracy = 1)) +
scale_fill_brewer(palette="Set1") +
theme_bw()+
theme(text         = element_text(size=10, family="Palatino Linotype"),
axis.text.x = element_text(size = 12),
axis.title.x = element_text(size = 12),
axis.text.y = element_text(size = 12),
axis.title.y = element_text(size = 12),
strip.text = element_text(size = 12),
legend.text = element_text(size = 12),
legend.title = element_text(size = 12),
legend.position = "bottom",
legend.justification = "left")
ggsave(width = 6, height = 4, filename = "gva_2020.png")
plot_gva2 <- ggplot(data = filter(gva_abs2, Year == 2020, Scenario == "REF", Region != "EU-28"), aes(y = Region, x = Value))
plot_gva2 +
geom_bar(stat='identity', position = "fill", aes(fill = Sector), color = "black") +
scale_x_continuous(name = "Share of total GVA",
labels = scales::label_percent(accuracy = 1)) +
scale_fill_brewer(palette="Set1") +
theme_bw()+
theme(text         = element_text(size=10, family="Palatino Linotype"),
axis.text.x = element_text(size = 12),
axis.title.x = element_text(size = 12),
axis.text.y = element_text(size = 12),
axis.title.y = element_text(size = 12),
strip.text = element_text(size = 12),
legend.text = element_text(size = 12),
legend.title = element_text(size = 12),
legend.position = "bottom",
legend.justification = "left")
ggsave(width = 6, height = 4, filename = "gva_2020.png")
plot_gva2 <- ggplot(data = filter(gva_abs2, Year == 2020, Scenario == "REF", Region != "EU-28"), aes(y = Region, x = Value))
plot_gva2 +
geom_bar(stat='identity', position = "fill", aes(fill = Sector), color = "black") +
scale_x_continuous(name = "Share of total GVA",
labels = scales::label_percent(accuracy = 1)) +
scale_fill_brewer(palette="Set1") +
theme_bw()+
theme(text         = element_text(size=10, family="Palatino Linotype"),
axis.text.x = element_text(size = 12),
axis.title.x = element_text(size = 12),
axis.text.y = element_text(size = 12),
axis.title.y = element_text(size = 12),
strip.text = element_text(size = 12),
legend.text = element_text(size = 12),
legend.title = element_text(size = 12),
legend.position = "bottom",
legend.justification = "left")
ggsave(width = 8, height = 4, filename = "gva_2020.png")
plot_gva2 <- ggplot(data = filter(gva_abs2, Year == 2020, Scenario == "REF", Region != "EU-28"), aes(y = Region, x = Value))
plot_gva2 +
geom_bar(stat='identity', position = "fill", aes(fill = Sector), color = "black") +
scale_x_continuous(name = "Share of total GVA",
labels = scales::label_percent(accuracy = 1)) +
scale_fill_brewer(palette="Set1") +
theme_bw()+
theme(text         = element_text(size=10, family="Palatino Linotype"),
axis.text.x = element_text(size = 12),
axis.title.x = element_text(size = 12),
axis.text.y = element_text(size = 12),
axis.title.y = element_text(size = 12),
strip.text = element_text(size = 12),
legend.text = element_text(size = 12),
legend.title = element_text(size = 12),
legend.position = "bottom",
legend.justification = "left")
ggsave(width = 7, height = 4, filename = "gva_2020.png")
plot_gva2 <- ggplot(data = filter(gva_abs2, Year == 2020, Scenario == "REF", Region != "EU-28"), aes(y = Region, x = Value))
plot_gva2 +
geom_bar(stat='identity', position = "fill", aes(fill = Sector), color = "black") +
scale_x_continuous(name = "Share of total GVA",
labels = scales::label_percent(accuracy = 1)) +
scale_fill_brewer(palette="Set1") +
theme_bw()+
theme(text         = element_text(size=10, family="Palatino Linotype"),
axis.text.x = element_text(size = 12),
axis.title.x = element_text(size = 12),
axis.text.y = element_text(size = 12),
axis.title.y = element_text(size = 12),
strip.text = element_text(size = 12),
legend.text = element_text(size = 12),
legend.title = element_text(size = 12),
legend.position = "bottom",
legend.justification = "left")
ggsave(width = 7, height = 4, filename = "gva_2020.png")
gva_secs <- gva_secs %>%
mutate(Sector = str_replace(Sector, "SER", "Services")) %>%
mutate(Sector = str_replace(Sector, "non-Energy Intensive Ind", "Other \nIndustries")) %>%
mutate(Sector = str_replace(Sector, "Energy Intensive Ind", "Energy Int. \nIndustries")) %>%
mutate(Region = str_replace(Region, "DEU", "Germany")) %>%
mutate(Region = str_replace(Region, "EU28", "EU+UK"))
gva_diff2 <- gva_diff2 %>%
mutate(Sector = str_replace(Sector, "SER", "Services")) %>%
mutate(Sector = str_replace(Sector, "non-Energy Intensive Ind", "Other \nIndustries")) %>%
mutate(Sector = str_replace(Sector, "Energy Intensive Ind", "Energy Int. \nIndustries")) %>%
mutate(Region = str_replace(Region, "DEU", "Germany")) %>%
mutate(Region = str_replace(Region, "FRA", "France")) %>%
mutate(Region = str_replace(Region, "ITA", "Italy")) %>%
mutate(Region = str_replace(Region, "POL", "Poland")) %>%
mutate(Region = str_replace(Region, "ESP", "Spain and Portugal")) %>%
mutate(Region = str_replace(Region, "BNL", "Benelux")) %>%
mutate(Region = str_replace(Region, "EUN", "Northern EU")) %>%
mutate(Region = str_replace(Region, "EUS", "Central and Southeastern EU")) %>%
mutate(Region = str_replace(Region, "UKI", "UK")) %>%
mutate(Region = str_replace(Region, "EU28", "EU-28"))
gva_abs2 <- gva_abs2 %>%
mutate(Sector = str_replace(Sector, "SER", "Services")) %>%
mutate(Sector = str_replace(Sector, "non-Energy Intensive Ind", "Other \nIndustries")) %>%
mutate(Sector = str_replace(Sector, "Energy Intensive Ind", "Energy Int. \nIndustries")) %>%
mutate(Region = str_replace(Region, "DEU", "Germany")) %>%
mutate(Region = str_replace(Region, "FRA", "France")) %>%
mutate(Region = str_replace(Region, "ITA", "Italy")) %>%
mutate(Region = str_replace(Region, "POL", "Poland")) %>%
mutate(Region = str_replace(Region, "ESP", "Spain and Portugal")) %>%
mutate(Region = str_replace(Region, "BNL", "Benelux")) %>%
mutate(Region = str_replace(Region, "EUN", "Northern EU")) %>%
mutate(Region = str_replace(Region, "EUS", "Central and Southeastern EU")) %>%
mutate(Region = str_replace(Region, "UKI", "UK")) %>%
mutate(Region = str_replace(Region, "EU28", "EU-28"))
gva_abs2$Region <- ordered(gva_abs2$Region, levels = c("EU-28",
"UK",
"Central and \nSoutheastern EU",
"Northern EU",
"Benelux",
"Spain and \nPortugal",
"Poland",
"Italy",
"France",
"Germany"))
plot_gva <- ggplot(data = gva_secs, aes(x = Scenario, y = Value))
plot_gva +
geom_bar(stat='identity', aes(fill =  Scenario), color = "black") +
facet_grid(Region ~ factor(Sector, levels = c("Energy Int. \nIndustries",
"Other \nIndustries",
"Services",
"Other Sectors"))) +
scale_y_continuous(name = "Level of GVA compared to REF",
labels = scales::label_percent(accuracy = 0.1),
breaks = seq(-0.03, 0.01,0.01)) +
scale_fill_brewer(palette="Set1") +
theme_bw()+
theme(text         = element_text(size=10, family="Palatino Linotype"),
axis.text.x = element_blank(),
axis.title.x = element_blank(),
axis.text.y = element_text(size = 12),
axis.title.y = element_text(size = 12),
axis.ticks.x = element_blank(),
strip.text = element_text(size = 12),
legend.text = element_text(size = 12),
legend.title = element_text(size = 12),
legend.position = "bottom")
ggsave(width = 6, height = 5, filename = "gva_secs.png")
gva_secs <- gva_secs %>%
mutate(Sector = str_replace(Sector, "SER", "Services")) %>%
mutate(Sector = str_replace(Sector, "non-Energy Intensive Ind", "Other \nIndustries")) %>%
mutate(Sector = str_replace(Sector, "Energy Intensive Ind", "Energy Int. \nIndustries")) %>%
mutate(Region = str_replace(Region, "DEU", "Germany")) %>%
mutate(Region = str_replace(Region, "EU28", "EU+UK"))
gva_diff2 <- gva_diff2 %>%
mutate(Sector = str_replace(Sector, "SER", "Services")) %>%
mutate(Sector = str_replace(Sector, "non-Energy Intensive Ind", "Other \nIndustries")) %>%
mutate(Sector = str_replace(Sector, "Energy Intensive Ind", "Energy Int. \nIndustries")) %>%
mutate(Region = str_replace(Region, "DEU", "Germany")) %>%
mutate(Region = str_replace(Region, "FRA", "France")) %>%
mutate(Region = str_replace(Region, "ITA", "Italy")) %>%
mutate(Region = str_replace(Region, "POL", "Poland")) %>%
mutate(Region = str_replace(Region, "ESP", "Spain and Portugal")) %>%
mutate(Region = str_replace(Region, "BNL", "Benelux")) %>%
mutate(Region = str_replace(Region, "EUN", "Northern EU")) %>%
mutate(Region = str_replace(Region, "EUS", "Central and Southeastern EU")) %>%
mutate(Region = str_replace(Region, "UKI", "UK")) %>%
mutate(Region = str_replace(Region, "EU28", "EU-28"))
gva_abs2 <- gva_abs2 %>%
mutate(Sector = str_replace(Sector, "SER", "Services")) %>%
mutate(Sector = str_replace(Sector, "non-Energy Intensive Ind", "Other \nIndustries")) %>%
mutate(Sector = str_replace(Sector, "Energy Intensive Ind", "Energy Int. \nIndustries")) %>%
mutate(Region = str_replace(Region, "DEU", "Germany")) %>%
mutate(Region = str_replace(Region, "FRA", "France")) %>%
mutate(Region = str_replace(Region, "ITA", "Italy")) %>%
mutate(Region = str_replace(Region, "POL", "Poland")) %>%
mutate(Region = str_replace(Region, "ESP", "Spain and Portugal")) %>%
mutate(Region = str_replace(Region, "BNL", "Benelux")) %>%
mutate(Region = str_replace(Region, "EUN", "Northern EU")) %>%
mutate(Region = str_replace(Region, "EUS", "Central and Southeastern EU")) %>%
mutate(Region = str_replace(Region, "UKI", "UK")) %>%
mutate(Region = str_replace(Region, "EU28", "EU-28"))
gva_abs2$Region <- ordered(gva_abs2$Region, levels = c("EU-28",
"UK",
"Central and \nSoutheastern EU",
"Northern EU",
"Benelux",
"Spain and \nPortugal",
"Poland",
"Italy",
"France",
"Germany"))
plot_gva <- ggplot(data = gva_secs, aes(x = Scenario, y = Value))
plot_gva +
geom_bar(stat='identity', aes(fill =  Scenario), color = "black") +
facet_grid(Region ~ factor(Sector, levels = c("Energy Int. \nIndustries",
"Other \nIndustries",
"Services",
"Other Sectors"))) +
scale_y_continuous(name = "Level of GVA compared to REF",
labels = scales::label_percent(accuracy = 0.1),
breaks = seq(-0.03, 0.01,0.01)) +
scale_fill_brewer(palette="Set1") +
theme_bw()+
theme(text         = element_text(size=10, family="Palatino Linotype"),
axis.text.x = element_blank(),
axis.title.x = element_blank(),
axis.text.y = element_text(size = 12),
axis.title.y = element_text(size = 12),
axis.ticks.x = element_blank(),
strip.text = element_text(size = 12),
legend.text = element_text(size = 12),
legend.title = element_text(size = 12),
legend.position = "bottom")
ggsave(width = 6, height = 5, filename = "gva_secs.png")
View(gva_secs)
gva_secs <- gva_secs %>%
mutate(Region = str_replace(Region, "EU-28", "EU+UK"))
plot_gva <- ggplot(data = gva_secs, aes(x = Scenario, y = Value))
plot_gva +
geom_bar(stat='identity', aes(fill =  Scenario), color = "black") +
facet_grid(Region ~ factor(Sector, levels = c("Energy Int. \nIndustries",
"Other \nIndustries",
"Services",
"Other Sectors"))) +
scale_y_continuous(name = "Level of GVA compared to REF",
labels = scales::label_percent(accuracy = 0.1),
breaks = seq(-0.03, 0.01,0.01)) +
scale_fill_brewer(palette="Set1") +
theme_bw()+
theme(text         = element_text(size=10, family="Palatino Linotype"),
axis.text.x = element_blank(),
axis.title.x = element_blank(),
axis.text.y = element_text(size = 12),
axis.title.y = element_text(size = 12),
axis.ticks.x = element_blank(),
strip.text = element_text(size = 12),
legend.text = element_text(size = 12),
legend.title = element_text(size = 12),
legend.position = "bottom")
ggsave(width = 6, height = 5, filename = "gva_secs.png")
plot_gva <- ggplot(data = gva_secs, aes(x = Scenario, y = Value))
plot_gva +
geom_bar(stat='identity', aes(fill =  Scenario), color = "black") +
facet_grid(Region ~ factor(Sector, levels = c("Energy Int. \nIndustries",
"Other \nIndustries",
"Services",
"Other Sectors"))) +
scale_y_continuous(name = "Level of GVA compared to REF",
labels = scales::label_percent(accuracy = 0.1),
breaks = seq(-0.03, 0.01,0.01)) +
scale_fill_brewer(palette="Set1") +
theme_bw()+
theme(text         = element_text(size=10, family="Palatino Linotype"),
axis.text.x = element_blank(),
axis.title.x = element_blank(),
axis.text.y = element_text(size = 12),
axis.title.y = element_text(size = 12),
axis.ticks.x = element_blank(),
strip.text = element_text(size = 12),
legend.text = element_text(size = 12),
legend.title = element_text(size = 12),
legend.position = "bottom")
ggsave(width = 6, height = 5, filename = "gva_secs.png")
library(tidyverse)
library(readxl)
library(extrafont)
library(showtext)
loadfonts()
sel_reg <-  c("DEU",
#"FRA",
#"ITA",
"POL",
#"UKI",
"ESP"
#"BNL",
#"EUN",
#"EUS"
)
sel_sec <- c(
#  "oil",
#  "gas",
#  "COL",
#  "CRU",
#  "ele",
#  "FF",
"energy",
"dwe",
"BUI"
#"SER"
)
sel_sec2 <- c(
#  "oil",
#  "gas",
#  "COL",
#  "CRU",
"ele",
"FF",
#  "energy",
"dwe",
"BUI",
"hh_ser")
share_cons <- read_excel("report_pivot_merged.xlsx", sheet = "abs_sector_hh_yr")
share_cons <- share_cons %>%
spread(key = "Sector", value = "Value") %>%
mutate(FF = oil + gas + COL + CRU) %>%
mutate(hh_ser = FF + ele + dwe + BUI) %>%
gather(-c("Scenario", "Year", "Region", "HH"), key = "Sector", value = "Value")
#mutate(Fuel = str_replace(Fuel, "FF", "Fossil fuels")) %>%
#mutate(Fuel = str_replace(Fuel, "ele", "Electricity")) %>%
#mutate(Fuel = str_replace(Fuel, "total", "Total energy \nconsumption"))
share_cons_hh_ser <- share_cons %>%
#spread(key = "Sector", value = "Value") %>%
#mutate(ele = ele/hh_ser) %>%
#mutate(FF  = FF/hh_ser) %>%
#mutate(dwe = dwe/hh_ser) %>%
#mutate(BUI = BUI/hh_ser) %>%
#gather(-c("Scenario", "Year", "Region", "HH"), key = "Sector", value = "Value") %>%
filter(Year == 2030) %>%
spread(key = "Scenario", value = "Value") %>%
mutate(bau = (bau-ref)/ref) %>%
mutate(cAP = (cAP-ref)/ref) %>%
mutate(inv = (inv-ref)/ref) %>%
mutate(lab = (lab-ref)/ref) %>%
mutate(vat = (vat-ref)/ref) %>%
gather('bau', 'cAP', 'inv', 'vat', 'lab', "ref", key = 'Scenario', value = 'Value')
share_cons_filter <- share_cons_hh_ser %>%
filter(Year == 2030, Region %in% sel_reg, Sector %in% sel_sec,
Scenario != "ref")
share_cons_filter$Scenario <- gsub("vat","con", share_cons_filter$Scenario)
share_cons_filter$Scenario <- gsub("hh","Q", share_cons_filter$Scenario)
share_cons_filter$Region <- gsub("DEU","Germany", share_cons_filter$Region)
share_cons_filter$Region <- gsub("ESP","Spain and \nPortugal", share_cons_filter$Region)
share_cons_filter$Region <- gsub("POL","Poland", share_cons_filter$Region)
share_cons_filter$Sector <- gsub("BUI","Construction", share_cons_filter$Sector)
share_cons_filter$Sector <- gsub("dwe","Rent", share_cons_filter$Sector)
share_cons_filter$Sector <- gsub("energy","Energy", share_cons_filter$Sector)
share_cons_filter <- share_cons_filter %>% mutate_each(funs(toupper), Scenario)
share_cons_filter$Scenario <- ordered(share_cons_filter$Scenario, levels = c("BAU",
"CON",
"LAB",
"CAP",
"INV"))
View(share_cons_filter)
share_cons_filter <- share_cons_hh_ser %>%
filter(Year == 2030, Region %in% sel_reg, Sector %in% sel_sec,
Scenario != "ref")
share_cons_filter$Scenario <- gsub("vat","con", share_cons_filter$Scenario)
share_cons_filter$HH <- gsub("hh","Q", share_cons_filter$HH)
share_cons_filter$Region <- gsub("DEU","Germany", share_cons_filter$Region)
share_cons_filter$Region <- gsub("ESP","Spain and \nPortugal", share_cons_filter$Region)
share_cons_filter$Region <- gsub("POL","Poland", share_cons_filter$Region)
share_cons_filter$Sector <- gsub("BUI","Construction", share_cons_filter$Sector)
share_cons_filter$Sector <- gsub("dwe","Rent", share_cons_filter$Sector)
share_cons_filter$Sector <- gsub("energy","Energy", share_cons_filter$Sector)
share_cons_filter <- share_cons_filter %>% mutate_each(funs(toupper), Scenario)
share_cons_filter$Scenario <- ordered(share_cons_filter$Scenario, levels = c("BAU",
"CON",
"LAB",
"CAP",
"INV"))
share_cons_app <- share_cons_filter %>%
filter(HH %in% c("Q1", "Q3", "Q5")) %>%
pivot_wider(names_from = 'Scenario', values_from = 'Value')
write_csv(share_cons_app, 'share_cons_app.csv')
cons_sec <- ggplot(filter(share_cons_filter,
#Scenario != "ref",
#Sector != "hh_ser",
#Region == "DEU", #| Region == "DEU"#,
HH %in% c("Q1", "Q3", "Q5")),
aes(x = Value, y=HH))
cons_sec +
geom_col(aes(fill = HH), color = "black") +
facet_grid(Region + Sector ~Scenario) +
scale_x_continuous(name = "Change of consumption in 2030 compared to REF",
labels = scales::label_percent(accuracy = 1)
#breaks = seq(0, 0.04,0.005)
) +
scale_fill_discrete( name = "Income group") +
#scale_x_discrete(name = "Income group") +
theme_bw()+
theme(text         = element_text(size=10, family="Palatino Linotype"),
axis.text.x = element_text(size = 10),
axis.title.x = element_text(size = 14),
axis.text.y = element_blank(),
axis.title.y = element_blank(),
axis.ticks.y = element_blank(),
strip.text = element_text(size = 14),
legend.text = element_text(size = 14),
legend.title = element_text(size = 14),
legend.position = "bottom")
ggsave(width = 10, height = 13, filename = "cons_money.png")
cons_sec <- ggplot(filter(share_cons_filter,
#Scenario != "ref",
#Sector != "hh_ser",
#Region == "DEU", #| Region == "DEU"#,
HH %in% c("Q1", "Q3", "Q5")),
aes(x = Value, y=HH))
cons_sec +
geom_col(aes(fill = HH), color = "black") +
facet_grid(Region + Sector ~Scenario) +
scale_x_continuous(name = "Change of expenditure in 2030 compared to REF",
labels = scales::label_percent(accuracy = 1)
#breaks = seq(0, 0.04,0.005)
) +
scale_fill_discrete( name = "Income group") +
#scale_x_discrete(name = "Income group") +
theme_bw()+
theme(text         = element_text(size=10, family="Palatino Linotype"),
axis.text.x = element_text(size = 10),
axis.title.x = element_text(size = 14),
axis.text.y = element_blank(),
axis.title.y = element_blank(),
axis.ticks.y = element_blank(),
strip.text = element_text(size = 14),
legend.text = element_text(size = 14),
legend.title = element_text(size = 14),
legend.position = "bottom")
ggsave(width = 10, height = 13, filename = "cons_money.png")
