"0","# Spread scenarios to be able to change them"
"0","energy_cons_diff <- spread(energy_cons_filter, key = ""Scenario"", value = ""Value"")"
"0","# Transform each scenario into the relative difference to reference scenario"
"0","energy_cons_diff <- energy_cons_diff %>% mutate(bau = (bau-ref)/ref)"
"0","energy_cons_diff <- energy_cons_diff %>% mutate(cAP = (cAP-ref)/ref)"
"0","energy_cons_diff <- energy_cons_diff %>% mutate(inv = (inv-ref)/ref)"
"0","energy_cons_diff <- energy_cons_diff %>% mutate(lab = (lab-ref)/ref)"
"0","energy_cons_diff <- energy_cons_diff %>% mutate(vat = (vat-ref)/ref)"
"0","# drop ref"
"0","energy_cons_diff <- subset(energy_cons_diff, select = -c(ref))"
"0","# gather scenarios"
"0","energy_cons_diff <- gather(energy_cons_diff, 'bau', 'cAP', 'inv', 'vat', 'lab', key = 'Scenario', value = 'Value')"
"0","# update scenario names and change order"
"0","energy_cons_diff[[5]] = toupper(energy_cons_diff[[5]])"
"0","energy_cons_diff$Scenario <- factor(energy_cons_diff$Scenario, levels = c(""BAU"","
"0","                                                                            ""VAT"","
"0","                                                                            ""LAB"","
"0","                                                                            ""CAP"","
"0","                                                                            ""INV""))"
