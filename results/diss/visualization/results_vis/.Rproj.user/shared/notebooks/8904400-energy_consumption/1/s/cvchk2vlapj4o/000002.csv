"0","# Spread scenarios to be able to change them"
"0","energy_cons_abs <- spread(energy_cons_filter, key = ""Scenario"", value = ""Value"")"
"0","# Transform each scenario into the relative difference to reference scenario"
"0","energy_cons_abs <- energy_cons_abs %>% mutate(bau = (bau-ref))"
"0","energy_cons_abs <- energy_cons_abs %>% mutate(cAP = (cAP-ref))"
"0","energy_cons_abs <- energy_cons_abs %>% mutate(inv = (inv-ref))"
"0","energy_cons_abs <- energy_cons_abs %>% mutate(lab = (lab-ref))"
"0","energy_cons_abs <- energy_cons_abs %>% mutate(vat = (vat-ref))"
"0","# drop ref"
"0","energy_cons_abs <- subset(energy_cons_abs, select = -c(ref))"
"0","# gather scenarios"
"0","energy_cons_abs <- gather(energy_cons_abs, 'bau', 'cAP', 'inv', 'vat', 'lab', key = 'Scenario', value = 'Value')"
"0","# update scenario names and change order"
"0","energy_cons_abs[[5]] = toupper(energy_cons_abs[[5]])"
"0","energy_cons_abs$Scenario <- factor(energy_cons_abs$Scenario, levels = c(""BAU"","
"0","                                                                            ""VAT"","
"0","                                                                            ""LAB"","
"0","                                                                            ""CAP"","
"0","                                                                            ""INV""))"
