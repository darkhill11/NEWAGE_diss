# import tidyverse
library(tidyverse)
# create dataframe from the input csv file
pf <- read_csv('consumption_diss_input.csv')
View(pf)
# create dataframe from the input csv file
pf <- read_delim('consumption_diss_input.csv', delim = ';')
View(pf)
pf$H1 <- pf$D1 + pf$d2
pf$H1 <- pf$D1 + pf$D2
pf$H2 <- pf$D3 + pf$D4
```{r}
# sum every two decile columns to form the values for quintiles
pf$H1 <- pf$D1 + pf$D2
# sum every two decile columns to form the values for quintiles
pf$H1 <- pf$D1 + pf$D2
pf$H2 <- pf$D3 + pf$D4
pf$H3 <- pf$D5 + pf$D6
pf$H4 <- pf$D7 + pf$D8
pf$H5 <- pf$D9 + pf$D10
#make copy of the original datafram to work on
pf2 <- pf
View(pf2)
# create dataframe from the input csv file
pf <- read_delim('consumption_diss_input.csv', delim = ';')
#make copy of the original datafram to work on
pf2 <- pf
1 <- pf$D1 + pf$D2
# sum every two decile columns to form the values for quintiles
pf2$H1 <- pf2$D1 + pf2$D2
pf2$H2 <- pf2$D3 + pf2$D4
pf2$H3 <- pf2$D5 + pf2$D6
pf2$H4 <- pf2$D7 + pf2$D8
pf2$H5 <- pf2$D9 + pf2$D10
# drop deciles columns
pf2 <- pf2 %>% select (-c(D1,D2,D3,D4,D5,D6,D7,D8,D9,D10))
# transfor quintiles into rows
pf_NEWAGE <- pf2
pf_NEWAGE <- pf_NEWAGE %>% gather('H1','H2','H3','H4','H5',key = 'Quintile',value = 'Value' )
View(pf_NEWAGE)
View(pf_NEWAGE)
# export for csv output file
write.table(pf_NEWAGE, file = "consumption_diss_out.csv", sep =";", dec = ".", row.names = FALSE)
View(pf_NEWAGE)
View(pf_NEWAGE)
pf_NEWAGE <- pf_NEWAGE %>% rename(r = Region)
# import tidyverse
library(tidyverse)
# create dataframe from the input csv file
pf <- read_delim('consumption_diss_input.csv', delim = ';')
#make copy of the original datafram to work on
pf2 <- pf
# drop deciles columns
pf2 <- pf2 %>% select (-c(D1,D2,D3,D4,D5,D6,D7,D8,D9,D10))
# transfor quintiles into rows
pf_NEWAGE <- pf2
pf_NEWAGE <- pf_NEWAGE %>% gather('H1','H2','H3','H4','H5',key = 'Quintile',value = 'Value' )
# create dataframe from the input csv file
pf <- read_delim('consumption_diss_input.csv', delim = ';')
#make copy of the original datafram to work on
pf2 <- pf
# sum every two decile columns to form the values for quintiles
pf2$H1 <- pf2$D1 + pf2$D2
pf2$H2 <- pf2$D3 + pf2$D4
pf2$H3 <- pf2$D5 + pf2$D6
pf2$H4 <- pf2$D7 + pf2$D8
pf2$H5 <- pf2$D9 + pf2$D10
# drop deciles columns
pf2 <- pf2 %>% select (-c(D1,D2,D3,D4,D5,D6,D7,D8,D9,D10))
# transfor quintiles into rows
pf_NEWAGE <- pf2
pf_NEWAGE <- pf_NEWAGE %>% gather('H1','H2','H3','H4','H5',key = 'Quintile',value = 'Value' )
pf_NEWAGE <- pf_NEWAGE %>% rename(r = Region)
pf_NEWAGE <- pf_NEWAGE %>% rename(i = Sector)
pf_NEWAGE <- pf_NEWAGE %>% rename(hh = Quintile)
# export for csv output file
write.table(pf_NEWAGE, file = "consumption_diss_out.csv", sep =";", dec = ".", row.names = FALSE)
# create dataframe from the input csv file
pf <- read_delim('consumption_diss_input.csv', delim = ';')
#make copy of the original datafram to work on
pf2 <- pf
# sum every two decile columns to form the values for quintiles
pf2$hh1 <- pf2$D1 + pf2$D2
pf2$hh2 <- pf2$D3 + pf2$D4
pf2$hh3 <- pf2$D5 + pf2$D6
pf2$hh4 <- pf2$D7 + pf2$D8
pf2$hh5 <- pf2$D9 + pf2$D10
# drop deciles columns
pf2 <- pf2 %>% select (-c(D1,D2,D3,D4,D5,D6,D7,D8,D9,D10))
# transfor quintiles into rows
pf_NEWAGE <- pf2
pf_NEWAGE <- pf_NEWAGE %>% gather('hh1','hh2','hh3','hh4','hh5',key = 'Quintile',value = 'Value' )
pf_NEWAGE <- pf_NEWAGE %>% rename(r = Region)
pf_NEWAGE <- pf_NEWAGE %>% rename(i = Sector)
pf_NEWAGE <- pf_NEWAGE %>% rename(hh = Quintile)
# export for csv output file
write.table(pf_NEWAGE, file = "consumption_diss_out.csv", sep =";", dec = ".", row.names = FALSE)
# import tidyverse
library(tidyverse)
# create dataframe from the input csv file
pf <- read_delim('consumption_diss_input.csv', delim = ';')
#make copy of the original datafram to work on
pf2 <- pf
# sum every two decile columns to form the values for quintiles
pf2$hh1 <- pf2$D1 + pf2$D2
pf2$hh2 <- pf2$D3 + pf2$D4
pf2$hh3 <- pf2$D5 + pf2$D6
pf2$hh4 <- pf2$D7 + pf2$D8
pf2$hh5 <- pf2$D9 + pf2$D10
# drop deciles columns
pf2 <- pf2 %>% select (-c(D1,D2,D3,D4,D5,D6,D7,D8,D9,D10))
# transfor quintiles into rows
pf_NEWAGE <- pf2
pf_NEWAGE <- pf_NEWAGE %>% gather('hh1','hh2','hh3','hh4','hh5',key = 'Quintile',value = 'Value' )
pf_NEWAGE <- pf_NEWAGE %>% rename(r = Region)
pf_NEWAGE <- pf_NEWAGE %>% rename(i = Sector)
pf_NEWAGE <- pf_NEWAGE %>% rename(hh = Quintile)
# export for csv output file
write.table(pf_NEWAGE, file = "consumption_diss_out.csv", sep =";", dec = ".", row.names = FALSE)
# import tidyverse
library(tidyverse)
# create dataframe from the input csv file
pf <- read_delim('consumption_diss_input.csv', delim = ';')
#make copy of the original datafram to work on
pf2 <- pf
# sum every two decile columns to form the values for quintiles
pf2$hh1 <- pf2$D1 + pf2$D2
pf2$hh2 <- pf2$D3 + pf2$D4
pf2$hh3 <- pf2$D5 + pf2$D6
pf2$hh4 <- pf2$D7 + pf2$D8
pf2$hh5 <- pf2$D9 + pf2$D10
# drop deciles columns
pf2 <- pf2 %>% select (-c(D1,D2,D3,D4,D5,D6,D7,D8,D9,D10))
# transfor quintiles into rows
pf_NEWAGE <- pf2
pf_NEWAGE <- pf_NEWAGE %>% gather('hh1','hh2','hh3','hh4','hh5',key = 'Quintile',value = 'Value' )
pf_NEWAGE <- pf_NEWAGE %>% rename(r = Region)
pf_NEWAGE <- pf_NEWAGE %>% rename(i = Sector)
pf_NEWAGE <- pf_NEWAGE %>% rename(hh = Quintile)
# export for csv output file
write.table(pf_NEWAGE, file = "consumption_diss_out.csv", sep =";", dec = ".", row.names = FALSE)
# import tidyverse
library(tidyverse)
# create dataframe from the input csv file
pf <- read_delim('consumption_diss_input.csv', delim = ';')
#make copy of the original datafram to work on
pf2 <- pf
# sum every two decile columns to form the values for quintiles
pf2$hh1 <- pf2$D1 + pf2$D2
pf2$hh2 <- pf2$D3 + pf2$D4
pf2$hh3 <- pf2$D5 + pf2$D6
pf2$hh4 <- pf2$D7 + pf2$D8
pf2$hh5 <- pf2$D9 + pf2$D10
# sum every two decile columns to form the values for quintiles
pf2$hh1 <- pf2$D1 + pf2$D2
pf2$hh2 <- pf2$D3 + pf2$D4
pf2$hh3 <- pf2$D5 + pf2$D6
pf2$hh4 <- pf2$D7 + pf2$D8
pf2$hh5 <- pf2$D9 + pf2$D10
# create dataframe from the input csv file
pf <- read_delim('consumption_diss_input.csv', delim = ';')
#make copy of the original datafram to work on
pf2 <- pf
# sum every two decile columns to form the values for quintiles
pf2$hh1 <- pf2$D1 + pf2$D2
pf2$hh2 <- pf2$D3 + pf2$D4
pf2$hh3 <- pf2$D5 + pf2$D6
pf2$hh4 <- pf2$D7 + pf2$D8
pf2$hh5 <- pf2$D9 + pf2$D10
# drop deciles columns
pf2 <- pf2 %>% select (-c(D1,D2,D3,D4,D5,D6,D7,D8,D9,D10))
# transfor quintiles into rows
pf_NEWAGE <- pf2
pf_NEWAGE <- pf_NEWAGE %>% gather('hh1','hh2','hh3','hh4','hh5',key = 'Quintile',value = 'Value' )
pf_NEWAGE <- pf_NEWAGE %>% rename(r = Region)
pf_NEWAGE <- pf_NEWAGE %>% rename(i = Sector)
pf_NEWAGE <- pf_NEWAGE %>% rename(hh = Quintile)
# export for csv output file
write.table(pf_NEWAGE, file = "consumption_diss_out.csv", sep =";", dec = ".", row.names = FALSE)
# import tidyverse
library(tidyverse)
# create dataframe from the input csv file
pf <- read_delim('consumption_diss_input.csv', delim = ';')
#make copy of the original datafram to work on
pf2 <- pf
# sum every two decile columns to form the values for quintiles
pf2$hh1 <- pf2$D1 + pf2$D2
pf2$hh2 <- pf2$D3 + pf2$D4
pf2$hh3 <- pf2$D5 + pf2$D6
pf2$hh4 <- pf2$D7 + pf2$D8
pf2$hh5 <- pf2$D9 + pf2$D10
# drop deciles columns
pf2 <- pf2 %>% select (-c(D1,D2,D3,D4,D5,D6,D7,D8,D9,D10))
# transfor quintiles into rows
pf_NEWAGE <- pf2
pf_NEWAGE <- pf_NEWAGE %>% gather('hh1','hh2','hh3','hh4','hh5',key = 'Quintile',value = 'Value' )
pf_NEWAGE <- pf_NEWAGE %>% rename(r = Region)
pf_NEWAGE <- pf_NEWAGE %>% rename(i = Sector)
pf_NEWAGE <- pf_NEWAGE %>% rename(hh = Quintile)
# export for csv output file
write.table(pf_NEWAGE, file = "consumption_diss_out.csv", sep =";", dec = ".", row.names = FALSE)
